@model COMP2139_ICE.Areas.ProjectManagement.Models.Project
@{
    ViewData["Title"] = "Project Details";
}
<h1 class="mb-3">@ViewData["Title"]</h1>

<dl class="row">
    <dt class="col-sm-2">Id</dt>
    <dd class="col-sm-10">@Model.Id</dd>

    <dt class="col-sm-2">Name</dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(m => m.Name, "ProjectName")
    </dd>

    <dt class="col-sm-2">Description</dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(m => m.Description, "ProjectDescription")
    </dd>

    <dt class="col-sm-2">Start Date</dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(m => m.StartDate)
    </dd>

    <dt class="col-sm-2">End Date</dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(m => m.DueDate)
    </dd>

    <dt class="col-sm-2">Status</dt>
    <dd class="col-sm-10">@Model.Status</dd>
</dl>

<hr />

<div id="comments-section" class="mt-4">
    <h2>Comments</h2>
    <p class="text-muted">View and add comments for this project without reloading the page.</p>

    <div id="comments-list" class="mb-3">
        <p class="text-muted">Loading comments...</p>
    </div>

    <form id="comment-form" class="card card-body">
        <input type="hidden" id="project-id" value="@Model.Id" />

        <div class="mb-3">
            <label for="comment-content" class="form-label">Add a comment</label>
            <textarea id="comment-content" class="form-control" rows="3" placeholder="Type your comment here"></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Post Comment</button>
    </form>
</div>

<p class="mt-4">
    <a asp-area="ProjectManagement"
       asp-controller="Projects"
       asp-action="Edit"
       asp-route-id="@Model.Id"
       class="btn btn-primary">Edit</a>
    <a asp-area="ProjectManagement"
       asp-controller="Projects"
       asp-action="Index"
       class="btn btn-secondary">Back to List</a>
</p>

@section Scripts {
    <script src="~/js/projectComments.js"></script>
}
